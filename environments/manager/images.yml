---
# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

adminer_tag: "{{ versions['adminer'] }}"
adminer_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['adminer'] }}:{{ '{{' }} adminer_tag {{ '}}' }}"

ara_server_tag: "{{ versions['ara_server'] }}"
ara_server_image: "{{ '{{' }} docker_registry_ansible|default('quay.io') {{ '}}' }}/{{ images['ara_server'] }}:{{ '{{' }} ara_server_tag {{ '}}' }}"

ara_server_mariadb_tag: "{{ versions['mariadb'] }}"
ara_server_mariadb_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['mariadb'] }}:{{ '{{' }} ara_server_mariadb_tag {{ '}}' }}"

netbox_tag: "{{ versions['netbox'] }}"
netbox_image: "{{ '{{' }} docker_registry_netbox|default('quay.io') {{ '}}' }}/{{ images['netbox'] }}:{{ '{{' }} netbox_tag {{ '}}' }}"

nginx_tag: "{{ versions['nginx'] }}"
nginx_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['nginx'] }}:{{ '{{' }} nginx_tag {{ '}}' }}"

phpmyadmin_tag: "{{ versions['phpmyadmin'] }}"
phpmyadmin_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['phpmyadmin'] }}:{{ '{{' }} phpmyadmin_tag {{ '}}' }}"

postgres_tag: "{{ versions['postgres'] }}"
postgres_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['postgres'] }}:{{ '{{' }} postgres_tag {{ '}}' }}"

{% if 'postgres_upgrade' in versions -%}
postgres_upgrade_tag: "{{ versions['postgres_upgrade'] }}"
postgres_upgrade_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['postgres_upgrade'] }}:{{ '{{' }} postgres_upgrade_tag {{ '}}' }}"
{% endif %}

manager_redis_tag: "{{ versions['redis'] }}"
manager_redis_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['redis'] }}:{{ '{{' }} manager_redis_tag {{ '}}' }}"

registry_tag: "{{ versions['registry'] }}"
registry_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['registry'] }}:{{ '{{' }} registry_tag {{ '}}' }}"

osism_ansible_tag: "{{ '{{' }} manager_version|default('latest') {{ '}}' }}"
osism_ansible_image: "{{ '{{' }} docker_registry_ansible|default('quay.io') {{ '}}' }}/{{ images[ 'osism_ansible'] }}:{{ '{{' }} osism_ansible_tag {{ '}}' }}"

{% if versions['inventory_reconciler'] == 'latest' -%}
inventory_reconciler_tag: "{{ '{{' }} inventory_reconciler_version|default('latest') {{ '}}' }}"
{%- else -%}
inventory_reconciler_tag: "{{ versions['inventory_reconciler'] }}"
{% endif %}
inventory_reconciler_image: "{{ '{{' }} docker_registry_ansible {{ '}}' }}/{{ images['inventory_reconciler'] }}:{{ '{{' }} inventory_reconciler_tag {{ '}}' }}"

{% if versions['osism'] == 'latest' -%}
osism_tag: "{{ '{{' }} osism_version|default('latest') {{ '}}' }}"
{%- else -%}
osism_tag: "{{ versions['osism'] }}"
{% endif %}
osism_image: "{{ '{{' }} docker_registry_ansible {{ '}}' }}/{{ images['osism'] }}:{{ '{{' }} osism_tag {{ '}}' }}"

{% if versions['osism'] == 'latest' -%}
osism_netbox_tag: "{{ '{{' }} osism_version|default('latest') {{ '}}' }}"
{%- else -%}
osism_netbox_tag: "{{ versions['osism'] }}"
{% endif %}
osism_netbox_image: "{{ '{{' }} docker_registry_ansible {{ '}}' }}/{{ images['osism_netbox'] }}:{{ '{{' }} osism_netbox_tag {{ '}}' }}"

vault_tag: "{{ versions['vault'] }}"
vault_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['vault'] }}:{{ '{{' }} vault_tag {{ '}}' }}"

traefik_tag: "{{ versions['traefik'] }}"
traefik_image: "{{ '{{' }} docker_registry {{ '}}' }}/{{ images['traefik'] }}:{{ '{{' }} traefik_tag {{ '}}' }}"

# image tag depends on CEPH_VERSION or OPENSTACK_VERSION

{% if manager_version == 'latest' -%}
ceph_ansible_tag: "{{ '{{' }} ceph_version|default('quincy') {{ '}}' }}"
{%- else -%}
ceph_ansible_tag: "{{ '{{' }} ceph_version|default(manager_version) {{ '}}' }}"
{% endif %}
ceph_ansible_image: "{{ '{{' }} docker_registry_ansible|default('quay.io') {{ '}}' }}/{{ images['ceph_ansible'] }}:{{ '{{' }} ceph_ansible_tag {{ '}}' }}"

{% if manager_version == 'latest' -%}
kolla_ansible_tag: "{{ '{{' }} openstack_version|default('2023.2') {{ '}}' }}"
{%- else -%}
kolla_ansible_tag: "{{ '{{' }} openstack_version|default(manager_version) {{ '}}' }}"
{% endif %}
kolla_ansible_image: "{{ '{{' }} docker_registry_ansible|default('quay.io') {{ '}}' }}/{{ images['kolla_ansible'] }}:{{ '{{' }} kolla_ansible_tag {{ '}}' }}"

